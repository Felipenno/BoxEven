{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../produto.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\n\nfunction CriarProdutoComponent_label_27_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"label\", 24);\n    i0.ɵɵtext(1, \"Adicionar Imagem \");\n    i0.ɵɵelementStart(2, \"input\", 25);\n    i0.ɵɵlistener(\"change\", function CriarProdutoComponent_label_27_Template_input_change_2_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.definirImagem($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CriarProdutoComponent_button_28_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function CriarProdutoComponent_button_28_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.removerImg();\n    });\n    i0.ɵɵtext(1, \"Remover Imagem\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    \"btn-disabled\": a0\n  };\n};\n\nexport let CriarProdutoComponent = /*#__PURE__*/(() => {\n  class CriarProdutoComponent {\n    constructor(produtoService, fb) {\n      this.produtoService = produtoService;\n      this.fb = fb;\n      this.semImagem = './assets/img/no-img.png';\n      this.inputImagem = this.semImagem;\n      this.imagemDefinida = false;\n    }\n\n    ngOnInit() {\n      this.validacaoProduto();\n    }\n\n    validacaoProduto() {\n      this.produtoForm = this.fb.group({\n        ativo: [true, [Validators.required]],\n        quantidade: ['', [Validators.required, Validators.min(0), Validators.max(9999)]],\n        preco: ['', [Validators.required, Validators.min(5), Validators.max(10000)]],\n        nome: ['', [Validators.required, Validators.minLength(3), Validators.maxLength(40)]],\n        codigoBarras: ['', [Validators.minLength(5)]],\n        unidadeMedidaId: ['1', [Validators.required]]\n      });\n    }\n\n    definirImagem(ev) {\n      const reader = new FileReader();\n\n      if (ev.target.files.length === 1) {\n        this.inputImagem = ev.target.files[0];\n        reader.readAsDataURL(this.inputImagem);\n\n        reader.onload = event => this.inputImagem = event.target.result;\n\n        this.imagemDefinida = true;\n      }\n    }\n\n    removerImg() {\n      this.inputImagem = this.semImagem;\n      this.imagemDefinida = false;\n    }\n\n    submitForm() {\n      this.produto = this.produtoForm.value;\n\n      if (this.imagemDefinida) {\n        this.produto.imagem = this.inputImagem;\n      }\n\n      console.log(this.produto);\n      this.produtoService.cadastrarProduto(this.produto).subscribe({\n        next: data => {\n          console.log(data);\n        },\n        error: err => {\n          console.log(err);\n        }\n      });\n    }\n\n  }\n\n  CriarProdutoComponent.ɵfac = function CriarProdutoComponent_Factory(t) {\n    return new (t || CriarProdutoComponent)(i0.ɵɵdirectiveInject(i1.ProdutoService), i0.ɵɵdirectiveInject(i2.FormBuilder));\n  };\n\n  CriarProdutoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CriarProdutoComponent,\n    selectors: [[\"app-criar-produto\"]],\n    decls: 37,\n    vars: 9,\n    consts: [[\"autocomplete\", \"off\", \"novalidate\", \"\", 1, \"produto-input\", 3, \"formGroup\", \"ngSubmit\"], [\"type\", \"text\", \"placeholder\", \"Nome Produto\", \"formControlName\", \"nome\"], [1, \"input-number\"], [\"type\", \"number\", \"placeholder\", \"Preco\", \"formControlName\", \"preco\"], [\"type\", \"number\", \"placeholder\", \"Quantidade\", \"formControlName\", \"quantidade\"], [\"type\", \"text\", \"placeholder\", \"C\\u00F3digo Barras\", \"formControlName\", \"codigoBarras\"], [1, \"check-input\"], [\"for\", \"check-ativo\"], [\"type\", \"checkbox\", \"id\", \"check-ativo\", \"formControlName\", \"ativo\"], [\"for\", \"medida\", 1, \"label-unidade\"], [\"id\", \"medida\", \"formControlName\", \"unidadeMedidaId\"], [\"value\", \"1\"], [\"value\", \"2\"], [\"value\", \"3\"], [\"value\", \"4\"], [\"value\", \"5\"], [1, \"adicionar-img\"], [\"class\", \"label-file\", \"for\", \"input-img\", 4, \"ngIf\"], [\"class\", \"btn-remove-img\", 3, \"click\", 4, \"ngIf\"], [\"alt\", \"imagem do produto\", 1, \"img-produto\", 3, \"src\"], [1, \"produto-btn\"], [\"type\", \"submit\", 1, \"btn-azul\", 3, \"ngClass\", \"disabled\"], [\"type\", \"reset\", 1, \"btn-azul\", 3, \"click\"], [1, \"btn-branco\", 3, \"routerLink\"], [\"for\", \"input-img\", 1, \"label-file\"], [\"id\", \"input-img\", \"type\", \"file\", \"accept\", \"image/png, image/jpeg\", 3, \"change\"], [1, \"btn-remove-img\", 3, \"click\"]],\n    template: function CriarProdutoComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"form\", 0);\n        i0.ɵɵlistener(\"ngSubmit\", function CriarProdutoComponent_Template_form_ngSubmit_0_listener() {\n          return ctx.submitForm();\n        });\n        i0.ɵɵelementStart(1, \"h2\");\n        i0.ɵɵtext(2, \"Criar Produto\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(3, \"input\", 1);\n        i0.ɵɵelementStart(4, \"div\", 2);\n        i0.ɵɵelement(5, \"input\", 3);\n        i0.ɵɵelement(6, \"input\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(7, \"input\", 5);\n        i0.ɵɵelementStart(8, \"section\");\n        i0.ɵɵelementStart(9, \"div\", 6);\n        i0.ɵɵelementStart(10, \"label\", 7);\n        i0.ɵɵtext(11, \"Ativo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(12, \"input\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"label\", 9);\n        i0.ɵɵtext(14, \"Unidade de medida: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"select\", 10);\n        i0.ɵɵelementStart(16, \"option\", 11);\n        i0.ɵɵtext(17, \"Caixa\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"option\", 12);\n        i0.ɵɵtext(19, \"Unidade\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"option\", 13);\n        i0.ɵɵtext(21, \"Pacote\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"option\", 14);\n        i0.ɵɵtext(23, \"Outro\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"option\", 15);\n        i0.ɵɵtext(25, \"Metro\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"div\", 16);\n        i0.ɵɵtemplate(27, CriarProdutoComponent_label_27_Template, 3, 0, \"label\", 17);\n        i0.ɵɵtemplate(28, CriarProdutoComponent_button_28_Template, 2, 0, \"button\", 18);\n        i0.ɵɵelement(29, \"img\", 19);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"div\", 20);\n        i0.ɵɵelementStart(31, \"button\", 21);\n        i0.ɵɵtext(32, \"Cadastrar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"button\", 22);\n        i0.ɵɵlistener(\"click\", function CriarProdutoComponent_Template_button_click_33_listener() {\n          return ctx.removerImg();\n        });\n        i0.ɵɵtext(34, \"Limpar Campos\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"button\", 23);\n        i0.ɵɵtext(36, \"Voltar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"formGroup\", ctx.produtoForm);\n        i0.ɵɵadvance(27);\n        i0.ɵɵproperty(\"ngIf\", !ctx.imagemDefinida);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.imagemDefinida);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"src\", ctx.inputImagem, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(7, _c0, ctx.produtoForm.invalid))(\"disabled\", ctx.produtoForm.invalid);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"routerLink\", \"/produto\");\n      }\n    },\n    directives: [i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.DefaultValueAccessor, i2.NgControlStatus, i2.FormControlName, i2.NumberValueAccessor, i2.CheckboxControlValueAccessor, i2.SelectControlValueAccessor, i2.NgSelectOption, i2.ɵNgSelectMultipleOption, i3.NgIf, i3.NgClass, i4.RouterLink],\n    styles: [\".produto-input[_ngcontent-%COMP%]{margin:20px auto;padding:10px;width:50%}.produto-input[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#6d4ec3}.produto-input[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .produto-input[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{border-radius:2px;border:1px solid #6D4EC3;box-shadow:inset 1px 1px 1px #00000080;padding-left:10px}.produto-input[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{box-sizing:border-box;width:100%;margin-top:15px;height:25px}.produto-input[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{margin-top:15px;width:45%;height:21px}.produto-input[_ngcontent-%COMP%]   .input-number[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-content:center;width:100%}.produto-input[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:10px;width:100%;height:20px}.produto-input[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .check-input[_ngcontent-%COMP%]{display:flex;margin-right:auto}.produto-input[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .check-input[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:30px;box-shadow:none;height:19px}.produto-input[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:pointer;border-radius:2px;box-shadow:1px 1px #00000080;min-width:25%;margin-left:5px}.produto-input[_ngcontent-%COMP%]   .adicionar-img[_ngcontent-%COMP%]{border:1px solid #6D4EC3;height:120px;width:100%;margin:20px auto;display:flex;justify-content:space-between;align-items:center}.produto-input[_ngcontent-%COMP%]   .adicionar-img[_ngcontent-%COMP%]   .label-file[_ngcontent-%COMP%]{cursor:pointer;height:100%;width:70%;text-align:center;line-height:660%;font-weight:600;font-size:18px;color:#b04ec38c}.produto-input[_ngcontent-%COMP%]   .adicionar-img[_ngcontent-%COMP%]   .label-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.produto-input[_ngcontent-%COMP%]   .adicionar-img[_ngcontent-%COMP%]   .img-produto[_ngcontent-%COMP%]{margin-right:20px;height:100%}.produto-input[_ngcontent-%COMP%]   .adicionar-img[_ngcontent-%COMP%]   .btn-remove-img[_ngcontent-%COMP%]{cursor:pointer;height:100%;width:70%;font-weight:700;font-size:18px;color:#b04ec38c;background-color:#fff;border:none}.produto-input[_ngcontent-%COMP%]   .produto-btn[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-content:center}\"]\n  });\n  return CriarProdutoComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}