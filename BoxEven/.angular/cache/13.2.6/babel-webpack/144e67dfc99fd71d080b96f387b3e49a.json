{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../produto.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\n\nfunction ListarProdutoComponent_tbody_44_ng_container_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelement(2, \"br\");\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const localizacao_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(localizacao_r4 == null ? null : localizacao_r4.endereco);\n  }\n}\n\nfunction ListarProdutoComponent_tbody_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵelementStart(2, \"td\");\n    i0.ɵɵelement(3, \"img\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtemplate(13, ListarProdutoComponent_tbody_44_ng_container_13_Template, 3, 1, \"ng-container\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\");\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"td\", 17);\n    i0.ɵɵelementStart(19, \"button\", 18);\n    i0.ɵɵtext(20, \"Editar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const produto_r2 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"src\", (tmp_0_0 = produto_r2.imagem) !== null && tmp_0_0 !== undefined ? tmp_0_0 : ctx_r0.semImagem, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(produto_r2.produtoId);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(produto_r2.nome);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"R$ \", produto_r2.preco, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(produto_r2.quantidade);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", produto_r2.localizacoes);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(produto_r2.unidadeMedida == null ? null : produto_r2.unidadeMedida.descricao);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(produto_r2.codigoBarras ? produto_r2.codigoBarras : \"XXXX\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", \"editar/\" + produto_r2.produtoId);\n  }\n}\n\nfunction ListarProdutoComponent_h1_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h1\", 19);\n    i0.ɵɵtext(1, \"Nenhum produto encontrado...\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    \"btn-disabled\": a0\n  };\n};\n\nexport let ListarProdutoComponent = /*#__PURE__*/(() => {\n  class ListarProdutoComponent {\n    constructor(produtoService, fb) {\n      this.produtoService = produtoService;\n      this.fb = fb;\n      this.produtos = [];\n      this.semImagem = './assets/img/no-img.png';\n    }\n\n    ngOnInit() {\n      this.listar();\n      this.validacaoFiltro();\n    }\n\n    validacaoFiltro() {\n      this.filtroForm = this.fb.group({\n        codigo: ['', [Validators.min(1)]],\n        descricao: ['', [Validators.minLength(3), Validators.maxLength(30)]],\n        status: ['']\n      });\n    }\n\n    listar() {\n      this.produtoService.listarProdutos().subscribe({\n        next: data => {\n          this.produtos = data;\n        },\n        error: err => {\n          console.log(err);\n        }\n      });\n    }\n\n    submitForm() {\n      var _a, _b, _c;\n\n      let parametros = [];\n      let codigo = (_a = this.filtroForm.get('codigo')) === null || _a === void 0 ? void 0 : _a.value;\n      let descricao = (_b = this.filtroForm.get('descricao')) === null || _b === void 0 ? void 0 : _b.value;\n      let status = (_c = this.filtroForm.get('status')) === null || _c === void 0 ? void 0 : _c.value;\n\n      if (codigo) {\n        parametros.push({\n          nome: 'id',\n          valor: codigo\n        });\n      }\n\n      if (descricao) {\n        parametros.push({\n          nome: 'descricao',\n          valor: descricao\n        });\n      }\n\n      if (status === 'ativo') {\n        parametros.push({\n          nome: 'status',\n          valor: true\n        });\n      } else if (status === 'inativo') {\n        parametros.push({\n          nome: 'status',\n          valor: false\n        });\n      }\n\n      this.produtoService.listarProdutos(parametros).subscribe({\n        next: data => {\n          this.produtos = data;\n        },\n        error: err => {\n          console.log(err);\n        }\n      });\n    }\n\n  }\n\n  ListarProdutoComponent.ɵfac = function ListarProdutoComponent_Factory(t) {\n    return new (t || ListarProdutoComponent)(i0.ɵɵdirectiveInject(i1.ProdutoService), i0.ɵɵdirectiveInject(i2.FormBuilder));\n  };\n\n  ListarProdutoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ListarProdutoComponent,\n    selectors: [[\"app-listar-produto\"]],\n    decls: 46,\n    vars: 8,\n    consts: [[1, \"header-menu\"], [1, \"secao-titulo\"], [1, \"btn-branco\", 3, \"routerLink\"], [1, \"secao-main\"], [\"novalidate\", \"\", 1, \"filtro\", 3, \"formGroup\", \"ngSubmit\"], [\"type\", \"number\", \"placeholder\", \"C\\u00F3digo\", \"formControlName\", \"codigo\"], [\"type\", \"text\", \"placeholder\", \"Descri\\u00E7\\u00E3o\", \"formControlName\", \"descricao\"], [\"formControlName\", \"status\"], [\"value\", \"\"], [\"value\", \"ativo\"], [\"value\", \"inativo\"], [\"type\", \"submit\", 1, \"btn-azul\", 3, \"ngClass\", \"disabled\"], [\"type\", \"reset\", 1, \"btn-azul\"], [1, \"lista-itens\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"msg-lista-vazia\", 4, \"ngIf\"], [1, \"produto-img\", 3, \"src\"], [1, \"td-editar\"], [1, \"btn-azul\", 3, \"routerLink\"], [1, \"msg-lista-vazia\"]],\n    template: function ListarProdutoComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"header\", 0);\n        i0.ɵɵelementStart(1, \"h2\", 1);\n        i0.ɵɵtext(2, \"Produto\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"button\", 2);\n        i0.ɵɵtext(4, \"Novo Produto\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"section\", 3);\n        i0.ɵɵelementStart(6, \"form\", 4);\n        i0.ɵɵlistener(\"ngSubmit\", function ListarProdutoComponent_Template_form_ngSubmit_6_listener() {\n          return ctx.submitForm();\n        });\n        i0.ɵɵelement(7, \"input\", 5);\n        i0.ɵɵelementStart(8, \"div\");\n        i0.ɵɵelementStart(9, \"strong\");\n        i0.ɵɵtext(10, \" ou \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(11, \"input\", 6);\n        i0.ɵɵelementStart(12, \"select\", 7);\n        i0.ɵɵelementStart(13, \"option\", 8);\n        i0.ɵɵtext(14, \"--\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"option\", 9);\n        i0.ɵɵtext(16, \"Ativo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"option\", 10);\n        i0.ɵɵtext(18, \"Inativo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"button\", 11);\n        i0.ɵɵtext(20, \"Buscar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"button\", 12);\n        i0.ɵɵtext(22, \"Resetar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"table\", 13);\n        i0.ɵɵelementStart(24, \"thead\");\n        i0.ɵɵelementStart(25, \"tr\");\n        i0.ɵɵelementStart(26, \"th\");\n        i0.ɵɵtext(27, \"Imagem\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"th\");\n        i0.ɵɵtext(29, \"C\\u00F3digo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"th\");\n        i0.ɵɵtext(31, \"Descri\\u00E7\\u00E3o\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"th\");\n        i0.ɵɵtext(33, \"Pre\\u00E7o\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"th\");\n        i0.ɵɵtext(35, \"Quantidade\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(36, \"th\");\n        i0.ɵɵtext(37, \"Endere\\u00E7o\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"th\");\n        i0.ɵɵtext(39, \"Unidade\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"th\");\n        i0.ɵɵtext(41, \"C\\u00F3d. barras\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(42, \"th\");\n        i0.ɵɵtext(43, \"Editar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(44, ListarProdutoComponent_tbody_44_Template, 21, 9, \"tbody\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(45, ListarProdutoComponent_h1_45_Template, 2, 0, \"h1\", 15);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"routerLink\", \"cadastro\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"formGroup\", ctx.filtroForm);\n        i0.ɵɵadvance(13);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(6, _c0, ctx.filtroForm.invalid))(\"disabled\", ctx.filtroForm.invalid);\n        i0.ɵɵadvance(25);\n        i0.ɵɵproperty(\"ngForOf\", ctx.produtos);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.produtos || ctx.produtos.length === 0);\n      }\n    },\n    directives: [i3.RouterLink, i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.NumberValueAccessor, i2.DefaultValueAccessor, i2.NgControlStatus, i2.FormControlName, i2.SelectControlValueAccessor, i2.NgSelectOption, i2.ɵNgSelectMultipleOption, i4.NgClass, i4.NgForOf, i4.NgIf],\n    styles: [\".filtro[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:10px}.filtro[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:0 10px;border-radius:2px;border:1px solid #6D4EC3;box-shadow:inset 1px 1px 1px #00000080;height:19px;padding-left:10px}.filtro[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:pointer;margin-right:20px;border-radius:2px;border:1px solid #6D4EC3;box-shadow:1px 1px 1px #00000080;height:23px}.filtro[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:15px}.lista-itens[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .produto-img[_ngcontent-%COMP%]{height:40px}.lista-itens[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .td-editar[_ngcontent-%COMP%]{text-align:center;width:70px;padding:0}.lista-itens[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .td-editar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none;margin:0}.lista-itens[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   .td-editar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:unset}.msg-lista-vazia[_ngcontent-%COMP%]{margin-top:15px;text-align:center;color:#b04ec3a9}\"]\n  });\n  return ListarProdutoComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}